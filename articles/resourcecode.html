<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="resourcecode">
<title>Introduction to `{resourcecode}` • resourcecode</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to `{resourcecode}`">
<meta property="og:description" content="resourcecode">
<meta property="og:image" content="https://nraillard.github.io/resourcecode/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">resourcecode</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/resourcecode.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/NRaillard/resourcecode/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction to `{resourcecode}`</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NRaillard/resourcecode/blob/HEAD/vignettes/resourcecode.Rmd" class="external-link"><code>vignettes/resourcecode.Rmd</code></a></small>
      <div class="d-none name"><code>resourcecode.Rmd</code></div>
    </div>

    
    
<p>The goal of <a href="https://github.com/NRaillard/resourcecode" class="external-link">resourcecode</a> is to provide an easy access
to the Resourcecode hindcast database of sea-states. More information on
the database can be found <a href="https://resourcecode.ifremer.fr" class="external-link">here</a>. We will explain in this
vignette the way to retrieve data from this data base and some the
functionalities offered by this package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/NRaillard/resourcecode" class="external-link">resourcecode</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="database-configuration-nodes-bathymetry">Database configuration: nodes, bathymetry…<a class="anchor" aria-label="anchor" href="#database-configuration-nodes-bathymetry"></a>
</h2>
<p>There are two grids in the Resource<strong>CODE</strong> hindcast
database: the full, dense, <strong>FIELD</strong> grid, which is the
grid where the numerical WWIII model is run and where sea-state
parameters and only 1D spectra are available. The second grid,
<strong>SPEC</strong>, is coarser, but contains the full 2D spectral
data at each node.</p>
<ul>
<li>
<strong>FIELD</strong> grid</li>
</ul>
<p>The variable <code>rscd_field</code> contains the coordinates of the
FIELD grid, alors with the depth of these points and <code>d50</code>,
the bottom sediment type.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">rscd_field</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'data.table' and 'data.frame':   328030 obs. of  5 variables:</span></span>
<span><span class="co">#&gt;  $ node     : int  1 2 3 4 5 6 7 8 9 10 ...</span></span>
<span><span class="co">#&gt;  $ longitude: num  6.92 6.91 6.92 6.93 6.95 ...</span></span>
<span><span class="co">#&gt;  $ latitude : num  62.9 62.9 62.9 62.9 62.9 ...</span></span>
<span><span class="co">#&gt;  $ depth    : num  3 3 3 3 3 3 3 3 3 3 ...</span></span>
<span><span class="co">#&gt;  $ d50      : num  0 1.32 1.32 1.32 1.32 ...</span></span>
<span><span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt;</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rscd_field</span><span class="op">)</span></span>
<span><span class="co">#&gt;   node longitude latitude depth   d50</span></span>
<span><span class="co">#&gt; 1    1  6.922498 62.91467     3 0.000</span></span>
<span><span class="co">#&gt; 2    2  6.910178 62.91301     3 1.322</span></span>
<span><span class="co">#&gt; 3    3  6.920552 62.90438     3 1.322</span></span>
<span><span class="co">#&gt; 4    4  6.933673 62.89938     3 1.322</span></span>
<span><span class="co">#&gt; 5    5  6.945979 62.90012     3 1.322</span></span>
<span><span class="co">#&gt; 6    6  6.958059 62.89899     3 1.322</span></span></code></pre></div>
<p>At each location, a large number of sea-state parameters are
available, described in <code>rscd_variables</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">rscd_variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [88 × 3] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ name    : chr [1:88] "longitude" "latitude" "tri" "MAPSTA" ...</span></span>
<span><span class="co">#&gt;  $ longname: chr [1:88] "longitude" "latitude" "tri" "status map" ...</span></span>
<span><span class="co">#&gt;  $ unit    : chr [1:88] "degree_east" "degree_north" "" "1" ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rscd_variables</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   name      longname         unit          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> longitude longitude        <span style="color: #949494;">"</span>degree_east<span style="color: #949494;">"</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> latitude  latitude         <span style="color: #949494;">"</span>degree_north<span style="color: #949494;">"</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> tri       tri              <span style="color: #949494;">""</span>            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> MAPSTA    status map       <span style="color: #949494;">"</span>1<span style="color: #949494;">"</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> dpt       depth            <span style="color: #949494;">"</span>m<span style="color: #949494;">"</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> ucur      eastward current <span style="color: #949494;">"</span>m s-1<span style="color: #949494;">"</span></span></span></code></pre></div>
<p>The available location can be plot on a map using the following code.
It can be notices here that the variables <code>rscd_coastline</code>
and <code>rscd_islands</code> contains the path of the coast line and
the islands, respectively.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lim_lon</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5.25</span>, <span class="op">-</span><span class="fl">4.25</span><span class="op">)</span></span>
<span><span class="va">lim_lat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">47.75</span>, <span class="fl">48.75</span><span class="op">)</span></span>
<span><span class="va">field_BZH</span> <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rscd_field</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">longitude</span>,y<span class="op">=</span><span class="va">latitude</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>shape<span class="op">=</span><span class="st">'.'</span>,col<span class="op">=</span><span class="st">'lightblue'</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">rscd_coastline</span>,linewidth<span class="op">=</span><span class="fl">.2</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_path</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">rscd_islands</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>group<span class="op">=</span><span class="va">.data</span><span class="op">$</span><span class="va">ID</span><span class="op">)</span>,linewidth<span class="op">=</span><span class="fl">.2</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>xlim<span class="op">=</span><span class="va">lim_lon</span>,ylim<span class="op">=</span><span class="va">lim_lat</span>,expand<span class="op">=</span><span class="cn">F</span>,crs <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="fl">4326</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">field_BZH</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-4-1.png" width="100%" style="display: block; margin: auto;"></p>
<ul>
<li>
<strong>SPEC</strong> grid</li>
</ul>
<p>The spectral grid, or <strong>SPEC</strong> grid is coarser, with
more than 24,000 nodes where the full 2D spectra are available. The grid
can be add to the previous plot to see the diferences in the spatial
coverage.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">field_BZH</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">rscd_spectral</span>,col<span class="op">=</span><span class="st">'orange'</span>,shape<span class="op">=</span><span class="st">'.'</span><span class="op">)</span></span></code></pre></div>
<p><img src="resourcecode_files/figure-html/unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="helpers">Helpers<a class="anchor" aria-label="anchor" href="#helpers"></a>
</h2>
<p>We one is interested in some location, we also provide helpers to
find the closest point in each of the grid, via the
<code><a href="../reference/closest_point_FIELD.html">closest_point_FIELD()</a></code> and <code><a href="../reference/closest_point_SPEC.html">closest_point_SPEC()</a></code>
functions.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Nicolas Raillard.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
